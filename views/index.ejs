<% include ./partials/header %> 
    <div class="container">
        <div class="row valign-wrapper center-align">
            <div class="col l4 hide-on-med-and-down">
                <h1>Available Houses</h1>
            </div>
            <div class="col l4 s6">
                <a href="/houses/new" class="btn-large">Add House</a>
            </div>
            <div class="col l4 s6">
                <form action="/houses" method="GET">
                    <h5>Filter Bedrooms</h5>
                        <div class="row">
                            <div class="col s6 m4">
                                <label>
                                    <input type="radio" id="oneBed" value="1" name="bedFilter" class="with-gap">
                                    <span for="oneBed">1</span>
                                </label>
                            </div>
                            <div class="col s6 m4">
                                <label>
                                    <input type="radio" id="twoBed" value="2" name="bedFilter" class="with-gap">
                                    <span for="twoBed">2</span>
                                </label>
                            </div>
                            <div class="col s6 m4">    
                                <label>
                                    <input type="radio" id="threeBed" value="3" name="bedFilter" class="with-gap">
                                    <span for="threeBed">3</span>
                                </label>
                            </div>
                            <div class="col s6 m4">    
                                <label>
                                    <input type="radio" id="fourBed" value="4" name="bedFilter" class="with-gap">
                                    <span for="fourBed">4</span>
                                </label>
                            </div>
                            <div class="col s6 m4">    
                                <label>
                                    <input type="radio" id="fiveBed" value="5" name="bedFilter" class="with-gap">
                                    <span for="fiveBed">5</span>
                                </label>
                            </div>
                            <div class="col s6 m4">    
                                <label>
                                    <input type="radio" id="sixBed" value="6" name="bedFilter" class="with-gap">
                                    <span for="sixBed">6</span>
                                </label>
                            </div>
                            <div class="col s12">    
                                <label>
                                    <input type="radio" id="sevenUp" value="7" name="bedFilter" class="with-gap">
                                    <span for="sevenUp">More than 6</span>
                                </label>
                            </div>   
                        </div>
                    
                    <button href="/houses" class="btn">Apply Filters</button>
                </form>
            </div>
            
        </div>

        <div class="row">
            <% houses.forEach(house => { %>
                    <div class="col xl3 l4 m6 s12">
                        <div class="card medium hoverable">
                            <div class="card-image">
                                <img src="<%= house.image[0].url %>" class="responsive-img" alt="">
                                <span class="card-title"><%= house.address %></span>
                            </div>

                            <div class="card-content">
                                <div class="row">
                                    <div class="col s6">Beds</div>
                                    <div class="col s6"><%= house.bedrooms %></div>
                                    <div class="col s6">Total Rent</div>
                                    <div class="col s6">$<%= house.rent %></div>
                                    <div class="col s6">Rent per Person </div>
                                    <div class="col s6">$<%= (house.rent/house.bedrooms).toFixed(2) %></div>
                                </div>
                            </div>

                            <div class="card-action">
                                <span>Date Posted</span>
                                <a href="/houses/<%= house._id %>" class="btn-small">More Info</a>
                            </div>
                        </div>                     
                    </div>
            <% }) %>
        </div>  

    </div>

<% include ./partials/footer %> 
